{"timestamp":"2025-08-21T03:31:37.293Z","port":5507,"requestId":"sim_1755747097293_9jkn03uen","input":{"model":"claude-3-sonnet-20240229","max_tokens":1000,"messages":[{"role":"user","content":"Test debug recording"}]},"metadata":{"userAgent":"ClaudeCodeRequestSimulator/4.0.0","clientIP":"127.0.0.1","sessionId":"test_session","conversationId":"test_conversation"}}
{"timestamp":"2025-08-21T03:31:37.293Z","port":5507,"requestId":"sim_1755747097293_9jkn03uen","processingTime":0,"error":{"name":"InputValidationError","message":"字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","code":"FIELD_VALIDATION_FAILED","stack":"InputValidationError: 字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000\n    at ClientInputValidator.handleValidationFailure (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/validation/input-validator.ts:178:29)\n    at ClientInputValidator.handleValidationFailure [as validateClaudeCodeRequest] (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/validation/input-validator.ts:126:14)\n    at ClaudeCodeRequestSimulator.simulateRequest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/__tests__/claude-code-request-simulator.test.ts:66:50)\n    at Object.<anonymous> (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/__tests__/claude-code-request-simulator.test.ts:468:38)\n    at Promise.finally.completed (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)\n    at _callCircusTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:949:3)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)\n    at jestAdapter (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:497:12)","details":{"module":"client.input.validation","field":"max_tokens","expected":"one of: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","actual":"invalid enum value","value":"see originalData","path":"max_tokens","message":"字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","code":"FIELD_VALIDATION_FAILED","timestamp":1755747097293}},"validation":{"inputValidation":{"success":false,"errors":["字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000"]},"outputValidation":{"success":false,"errors":["字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000"]}}}
{"timestamp":"2025-08-21T03:33:06.406Z","port":5507,"requestId":"sim_1755747186406_scwszaajd","input":{"model":"claude-3-sonnet-20240229","max_tokens":1000,"messages":[{"role":"user","content":"Test debug recording"}]},"metadata":{"userAgent":"ClaudeCodeRequestSimulator/4.0.0","clientIP":"127.0.0.1","sessionId":"test_session","conversationId":"test_conversation"}}
{"timestamp":"2025-08-21T03:33:06.406Z","port":5507,"requestId":"sim_1755747186406_scwszaajd","processingTime":0,"error":{"name":"InputValidationError","message":"字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","code":"FIELD_VALIDATION_FAILED","stack":"InputValidationError: 字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000\n    at ClientInputValidator.handleValidationFailure (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/validation/input-validator.ts:178:29)\n    at ClientInputValidator.handleValidationFailure [as validateClaudeCodeRequest] (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/validation/input-validator.ts:126:14)\n    at ClaudeCodeRequestSimulator.simulateRequest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/__tests__/claude-code-request-simulator.test.ts:66:50)\n    at Object.<anonymous> (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/__tests__/claude-code-request-simulator.test.ts:468:38)\n    at Promise.finally.completed (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)\n    at _callCircusTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:949:3)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)\n    at jestAdapter (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:497:12)","details":{"module":"client.input.validation","field":"max_tokens","expected":"one of: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","actual":"invalid enum value","value":"see originalData","path":"max_tokens","message":"字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","code":"FIELD_VALIDATION_FAILED","timestamp":1755747186406}},"validation":{"inputValidation":{"success":false,"errors":["字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000"]},"outputValidation":{"success":false,"errors":["字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000"]}}}
{"timestamp":"2025-08-21T03:37:32.767Z","port":5507,"requestId":"sim_1755747452767_4vn6ppjlw","input":{"model":"claude-3-sonnet-20240229","max_tokens":1000,"messages":[{"role":"user","content":"Test debug recording"}]},"metadata":{"userAgent":"ClaudeCodeRequestSimulator/4.0.0","clientIP":"127.0.0.1","sessionId":"test_session","conversationId":"test_conversation"}}
{"timestamp":"2025-08-21T03:37:32.768Z","port":5507,"requestId":"sim_1755747452767_4vn6ppjlw","processingTime":1,"error":{"name":"InputValidationError","message":"字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","code":"FIELD_VALIDATION_FAILED","stack":"InputValidationError: 字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000\n    at ClientInputValidator.handleValidationFailure (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/validation/input-validator.ts:178:29)\n    at ClientInputValidator.handleValidationFailure [as validateClaudeCodeRequest] (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/validation/input-validator.ts:126:14)\n    at ClaudeCodeRequestSimulator.simulateRequest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/__tests__/claude-code-request-simulator.test.ts:66:50)\n    at Object.<anonymous> (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/src/client/__tests__/claude-code-request-simulator.test.ts:468:38)\n    at Promise.finally.completed (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)\n    at _callCircusTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:949:3)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)\n    at jestAdapter (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/fanzhang/Documents/github/route-claudecode/workspace/main-development/node_modules/jest-runner/build/testWorker.js:497:12)","details":{"module":"client.input.validation","field":"max_tokens","expected":"one of: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","actual":"invalid enum value","value":"see originalData","path":"max_tokens","message":"字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000","code":"FIELD_VALIDATION_FAILED","timestamp":1755747452768}},"validation":{"inputValidation":{"success":false,"errors":["字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000"]},"outputValidation":{"success":false,"errors":["字段 'max_tokens' 的值必须是枚举值之一: 1, 4096, 8192, 16384, 32768, 65536, 100000, 200000"]}}}
