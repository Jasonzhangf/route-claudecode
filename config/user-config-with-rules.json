{
  "// === RCC v4.0 用户配置文件 - 带判断条件 ===": "",
  "// 参考demo1设计，包含明确的路由判断逻辑": "",
  
  "version": "4.0",
  "description": "用户配置文件 - 定义AI提供商和智能路由规则",
  "lastUpdated": "2025-08-19T12:00:00Z",

  "// === PROVIDER 区 ===": "",
  "// 定义你可以使用的所有AI提供商": "",
  "Providers": [
    {
      "name": "通义千问",
      "api_base_url": "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions",
      "api_key": "sk-your-dashscope-api-key",
      "models": ["qwen-plus", "qwen-max", "qwen-coder-plus"],
      "transformer": {
        "use": [
          ["maxtoken", { "max_tokens": 8192 }],
          "enhancetool"
        ]
      }
    },
    {
      "name": "智谱清言",
      "api_base_url": "https://ai.shuaihong.fun/v1/chat/completions", 
      "api_key": "sk-your-zhipu-api-key",
      "models": ["gpt-4o", "gpt-4o-mini", "claude-3-sonnet"],
      "transformer": {
        "use": ["shuaihong"]
      }
    },
    {
      "name": "OpenAI",
      "api_base_url": "https://api.openai.com/v1/chat/completions",
      "api_key": "sk-your-openai-api-key", 
      "models": ["gpt-4", "gpt-4-turbo", "gpt-3.5-turbo"],
      "transformer": {
        "use": ["openai"]
      }
    },
    {
      "name": "Claude官方",
      "api_base_url": "https://api.anthropic.com/v1/messages",
      "api_key": "sk-your-anthropic-api-key",
      "models": ["claude-3-sonnet", "claude-3-haiku", "claude-sonnet-4"],
      "transformer": {
        "use": ["anthropic"]
      }
    },
    {
      "name": "Gemini官方", 
      "api_base_url": "https://generativelanguage.googleapis.com/v1beta/models/",
      "api_key": "your-gemini-api-key",
      "models": ["gemini-1.5-pro", "gemini-1.5-flash"],
      "transformer": {
        "use": ["gemini"]
      }
    },
    {
      "name": "本地Ollama",
      "api_base_url": "http://localhost:11434/v1/chat/completions",
      "api_key": "ollama",
      "models": ["qwen2.5-coder:latest", "llama3.1:latest"]
    }
  ],

  "// === ROUTER 区 ===": "",
  "// 定义路由规则和判断条件（参考demo1的getUseModel函数）": "",
  "Router": {
    "// 🎯 默认路由 - 当无匹配条件时使用": "",
    "default": "通义千问,qwen-plus",
    
    "// 📚 长文档处理 - 条件: tokenCount > 60000": "",
    "// 当消息总token数超过6万时自动使用": "",
    "longContext": "Gemini官方,gemini-1.5-pro",
    
    "// ⚡ 轻量任务 - 条件: model.startsWith('claude-3-5-haiku')": "",
    "// 当用户指定使用haiku模型时自动切换到本地模型": "",
    "background": "本地Ollama,qwen2.5-coder:latest",
    
    "// 🧠 深度思考 - 条件: req.body.thinking存在": "",
    "// 当请求包含thinking参数时使用推理模型": "",
    "think": "智谱清言,gpt-4o",
    
    "// 🔍 网络搜索 - 条件: tools包含web_search类型": "",
    "// 当工具列表包含web_search工具时使用": "",
    "webSearch": "OpenAI,gpt-4"
  },

  "// === 路由判断逻辑说明 ===": "",
  "RoutingRules": {
    "// 路由判断优先级（按demo1的getUseModel函数顺序）": "",
    "priority": [
      "1. 如果用户直接指定provider,model（包含逗号），直接使用",
      "2. 如果token数量 > 60000，使用 longContext 路由",
      "3. 如果模型名以 'claude-3-5-haiku' 开头，使用 background 路由", 
      "4. 如果请求包含 thinking 参数，使用 think 路由",
      "5. 如果工具列表包含 web_search 工具，使用 webSearch 路由",
      "6. 否则使用 default 路由"
    ],
    
    "// 具体判断条件": "",
    "conditions": {
      "longContext": {
        "description": "长文档处理",
        "condition": "tokenCount > 60000",
        "example": "处理超长PDF、大型代码库分析"
      },
      "background": {
        "description": "轻量快速任务", 
        "condition": "model.startsWith('claude-3-5-haiku')",
        "example": "用户明确要求使用轻量模型"
      },
      "think": {
        "description": "复杂推理思考",
        "condition": "req.body.thinking !== undefined",
        "example": "数学推理、逻辑分析、复杂问题解决"
      },
      "webSearch": {
        "description": "联网搜索",
        "condition": "tools.some(tool => tool.type?.startsWith('web_search'))",
        "example": "需要实时信息、最新新闻、在线查询"
      },
      "default": {
        "description": "通用对话",
        "condition": "所有其他情况",
        "example": "日常聊天、常规问答、一般性任务"
      }
    }
  },

  "// === 系统设置 ===": "",
  "settings": {
    "// token计算设置": "",
    "tokenCalculation": {
      "encoding": "cl100k_base",
      "includeSysMessage": true,
      "includeTools": true
    },
    
    "// 错误处理": "",
    "errorHandling": {
      "maxRetries": 3,
      "timeoutMs": 30000,
      "fallbackToDefault": true
    }
  },

  "// === 服务器配置 ===": "",
  "server": {
    "port": 5506,
    "host": "0.0.0.0", 
    "debug": true
  },

  "// === 用户认证 ===": "",
  "APIKEY": "rcc4-proxy-key",
  "HOST": "0.0.0.0"
}