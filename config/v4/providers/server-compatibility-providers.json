{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "4.0.0",
  "description": "RCC v4.0 Server-Compatibility层Provider配置",
  "lastUpdated": "2024-08-15T00:00:00Z",
  
  "serverCompatibilityProviders": {
    "lmstudio": {
      "id": "lmstudio-compatibility",
      "name": "LM Studio Compatibility Provider",
      "description": "LM Studio OpenAI-compatible API server",
      "enabled": true,
      "type": "server-compatibility",
      "protocol": "openai-compatible",
      "
": {
        "baseUrl": "${RCC_LMSTUDIO_ENDPOINT}",
        "apiKey": "${RCC_LMSTUDIO_API_KEY}",
        "timeout": "${RCC_LMSTUDIO_TIMEOUT:30000}",
        "maxRetries": "${RCC_LMSTUDIO_MAX_RETRIES:3}",
        "retryDelay": 1000,
        "keepAlive": true,
        "maxConnections": 10
      },
      "models": {
        "supportedModels": [
          "llama-3.1-8b-instruct",
          "llama-3.1-70b-instruct", 
          "codellama-7b-instruct",
          "codellama-13b-instruct",
          "mistral-7b-instruct",
          "mistral-8x7b-instruct"
        ],
        "defaultModel": "llama-3.1-8b-instruct",
        "modelMapping": {
          "gpt-4": "llama-3.1-70b-instruct",
          "gpt-3.5-turbo": "llama-3.1-8b-instruct"
        }
      },
      "features": {
        "chat": true,
        "tools": true,
        "streaming": true,
        "embedding": false,
        "vision": false
      },
      "healthCheck": {
        "enabled": true,
        "interval": 30000,
        "timeout": 5000,
        "endpoint": "/v1/models"
      }
    },

    "ollama": {
      "id": "ollama-compatibility", 
      "name": "Ollama Compatibility Provider",
      "description": "Ollama OpenAI-compatible API server",
      "enabled": false,
      "type": "server-compatibility",
      "protocol": "openai-compatible",
      "connection": {
        "baseUrl": "${RCC_OLLAMA_ENDPOINT}",
        "apiKey": "${RCC_OLLAMA_API_KEY}",
        "timeout": "${RCC_OLLAMA_TIMEOUT:30000}",
        "maxRetries": "${RCC_OLLAMA_MAX_RETRIES:3}",
        "retryDelay": 1000
      },
      "models": {
        "supportedModels": [
          "llama3.1:8b",
          "llama3.1:70b",
          "codellama:7b",
          "mistral:7b"
        ],
        "defaultModel": "llama3.1:8b"
      },
      "features": {
        "chat": true,
        "tools": false,
        "streaming": true,
        "embedding": true,
        "vision": false
      }
    },

    "localai": {
      "id": "localai-compatibility",
      "name": "LocalAI Compatibility Provider", 
      "description": "LocalAI OpenAI-compatible API server",
      "enabled": false,
      "type": "server-compatibility",
      "protocol": "openai-compatible",
      "connection": {
        "baseUrl": "${RCC_LOCALAI_ENDPOINT}",
        "apiKey": "${RCC_LOCALAI_API_KEY}",
        "timeout": "${RCC_LOCALAI_TIMEOUT:30000}",
        "maxRetries": "${RCC_LOCALAI_MAX_RETRIES:3}"
      },
      "models": {
        "supportedModels": [],
        "dynamicModelDiscovery": true
      },
      "features": {
        "chat": true,
        "tools": true,
        "streaming": true,
        "embedding": true,
        "vision": true
      }
    },

    "text-generation-webui": {
      "id": "textgen-compatibility",
      "name": "Text Generation WebUI Compatibility Provider",
      "description": "oobabooga/text-generation-webui OpenAI-compatible endpoint",
      "enabled": false,
      "type": "server-compatibility", 
      "protocol": "openai-compatible",
      "connection": {
        "baseUrl": "${RCC_TEXTGEN_ENDPOINT}",
        "apiKey": "${RCC_TEXTGEN_API_KEY}",
        "timeout": "${RCC_TEXTGEN_TIMEOUT:60000}",
        "maxRetries": "${RCC_TEXTGEN_MAX_RETRIES:2}"
      },
      "models": {
        "supportedModels": ["text-generation-webui"],
        "defaultModel": "text-generation-webui"
      },
      "features": {
        "chat": true,
        "tools": false,
        "streaming": true,
        "embedding": false,
        "vision": false
      }
    },

    "vllm": {
      "id": "vllm-compatibility",
      "name": "vLLM Compatibility Provider",
      "description": "vLLM OpenAI-compatible API server",
      "enabled": false,
      "type": "server-compatibility",
      "protocol": "openai-compatible", 
      "connection": {
        "baseUrl": "${RCC_VLLM_ENDPOINT}",
        "apiKey": "${RCC_VLLM_API_KEY}",
        "timeout": "${RCC_VLLM_TIMEOUT:45000}",
        "maxRetries": "${RCC_VLLM_MAX_RETRIES:3}"
      },
      "models": {
        "supportedModels": [],
        "dynamicModelDiscovery": true
      },
      "features": {
        "chat": true,
        "tools": false,
        "streaming": true,
        "embedding": false,
        "vision": false
      }
    }
  },

  "standardProviders": {
    "openai": {
      "id": "openai-official",
      "name": "OpenAI Official API",
      "description": "Official OpenAI API service",
      "enabled": true,
      "type": "server",
      "protocol": "openai",
      "connection": {
        "baseUrl": "${OPENAI_BASE_URL:https://api.openai.com/v1}",
        "apiKey": "${OPENAI_API_KEY}",
        "organization": "${OPENAI_ORG_ID}",
        "project": "${OPENAI_PROJECT_ID}",
        "timeout": "${RCC_OPENAI_TIMEOUT:30000}",
        "maxRetries": "${RCC_OPENAI_MAX_RETRIES:3}"
      },
      "models": {
        "supportedModels": [
          "gpt-4",
          "gpt-4-turbo",
          "gpt-3.5-turbo",
          "gpt-4o",
          "gpt-4o-mini"
        ],
        "defaultModel": "gpt-4"
      },
      "features": {
        "chat": true,
        "tools": true,
        "streaming": true,
        "embedding": false,
        "vision": true
      }
    },

    "anthropic": {
      "id": "anthropic-official",
      "name": "Anthropic Official API", 
      "description": "Official Anthropic Claude API service",
      "enabled": true,
      "type": "server",
      "protocol": "anthropic",
      "connection": {
        "baseUrl": "${ANTHROPIC_BASE_URL:https://api.anthropic.com}",
        "apiKey": "${ANTHROPIC_API_KEY}",
        "timeout": "${RCC_ANTHROPIC_TIMEOUT:30000}",
        "maxRetries": "${RCC_ANTHROPIC_MAX_RETRIES:3}"
      },
      "models": {
        "supportedModels": [
          "claude-3-5-sonnet-20241022",
          "claude-3-opus-20240229",
          "claude-3-sonnet-20240229",
          "claude-3-haiku-20240307"
        ],
        "defaultModel": "claude-3-5-sonnet-20241022"
      },
      "features": {
        "chat": true,
        "tools": true,
        "streaming": true,
        "embedding": false,
        "vision": true
      }
    }
  },

  "validation": {
    "required": ["serverCompatibilityProviders.lmstudio"],
    "environmentVariables": {
      "required": [
        "RCC_LMSTUDIO_ENDPOINT"
      ],
      "optional": [
        "RCC_LMSTUDIO_API_KEY",
        "OPENAI_API_KEY", 
        "ANTHROPIC_API_KEY"
      ]
    }
  }
}