{
  "step": 2,
  "name": "Router Preprocessing",
  "timestamp": "2025-09-08T01:53:22.947Z",
  "processingTimeMs": 2,
  "success": true,
  "pipelineConfigsCount": 4,
  "layerTypeValidation": true,
  "internalRoutingTable": {
    "routes": {
      "default": [
        {
          "routeId": "route_default_qwen_0_0",
          "routeName": "default",
          "virtualModel": "default",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_default_qwen_0_1",
          "routeName": "default",
          "virtualModel": "default",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "longContext": [
        {
          "routeId": "route_longContext_qwen_0_0",
          "routeName": "longContext",
          "virtualModel": "longContext",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen-max_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_longContext_qwen_0_1",
          "routeName": "longContext",
          "virtualModel": "longContext",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen-max_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "background": [
        {
          "routeId": "route_background_qwen_0_0",
          "routeName": "background",
          "virtualModel": "background",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_background_qwen_0_1",
          "routeName": "background",
          "virtualModel": "background",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "think": [
        {
          "routeId": "route_think_qwen_0_0",
          "routeName": "think",
          "virtualModel": "think",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen-max_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_think_qwen_0_1",
          "routeName": "think",
          "virtualModel": "think",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen-max_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "webSearch": [
        {
          "routeId": "route_webSearch_qwen_0_0",
          "routeName": "webSearch",
          "virtualModel": "webSearch",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_webSearch_qwen_0_1",
          "routeName": "webSearch",
          "virtualModel": "webSearch",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "code": [
        {
          "routeId": "route_code_qwen_0_0",
          "routeName": "code",
          "virtualModel": "code",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_code_qwen_0_1",
          "routeName": "code",
          "virtualModel": "code",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen3-coder-plus_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "codeReview": [
        {
          "routeId": "route_codeReview_qwen_0_0",
          "routeName": "codeReview",
          "virtualModel": "codeReview",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen-max_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_codeReview_qwen_0_1",
          "routeName": "codeReview",
          "virtualModel": "codeReview",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen-max_1",
          "isActive": true,
          "health": "healthy"
        }
      ],
      "reasoning": [
        {
          "routeId": "route_reasoning_qwen_0_0",
          "routeName": "reasoning",
          "virtualModel": "reasoning",
          "provider": "qwen",
          "apiKeyIndex": 0,
          "pipelineId": "pipeline_qwen_qwen-max_0",
          "isActive": true,
          "health": "healthy"
        },
        {
          "routeId": "route_reasoning_qwen_0_1",
          "routeName": "reasoning",
          "virtualModel": "reasoning",
          "provider": "qwen",
          "apiKeyIndex": 1,
          "pipelineId": "pipeline_qwen_qwen-max_1",
          "isActive": true,
          "health": "healthy"
        }
      ]
    },
    "defaultRoute": "default",
    "metadata": {
      "configSource": "ConfigPreprocessor",
      "generatedAt": "2025-09-08T01:53:22.945Z",
      "preprocessorVersion": "4.1.0"
    }
  },
  "pipelineConfigs": [
    {
      "pipelineId": "pipeline_qwen_qwen3-coder-plus_0",
      "routeId": "route_default_qwen_0_0",
      "provider": "qwen",
      "model": "qwen3-coder-plus",
      "endpoint": "https://portal.qwen.ai/v1",
      "apiKey": "qwen-auth-1",
      "timeout": 60000,
      "maxRetries": 3,
      "layers": [
        {
          "name": "transformer",
          "type": "transformer",
          "order": 1,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-1"
          }
        },
        {
          "name": "protocol",
          "type": "protocol",
          "order": 2,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1"
          }
        },
        {
          "name": "server-compatibility",
          "type": "server-compatibility",
          "order": 3,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-1",
            "timeout": 60000,
            "use": "qwen",
            "maxTokens": 262144,
            "enhanceTool": true,
            "authFileName": "qwen-auth-1",
            "supportsSystemMessages": true,
            "supportsToolCalling": true,
            "supportsStreaming": true
          }
        },
        {
          "name": "server",
          "type": "server",
          "order": 4,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-1",
            "timeout": 60000,
            "authMethod": "bearer",
            "maxTokens": 262144
          }
        }
      ],
      "maxTokens": 262144
    },
    {
      "pipelineId": "pipeline_qwen_qwen3-coder-plus_1",
      "routeId": "route_default_qwen_0_1",
      "provider": "qwen",
      "model": "qwen3-coder-plus",
      "endpoint": "https://portal.qwen.ai/v1",
      "apiKey": "qwen-auth-2",
      "timeout": 60000,
      "maxRetries": 3,
      "layers": [
        {
          "name": "transformer",
          "type": "transformer",
          "order": 1,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-2"
          }
        },
        {
          "name": "protocol",
          "type": "protocol",
          "order": 2,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1"
          }
        },
        {
          "name": "server-compatibility",
          "type": "server-compatibility",
          "order": 3,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-2",
            "timeout": 60000,
            "use": "qwen",
            "maxTokens": 262144,
            "enhanceTool": true,
            "authFileName": "qwen-auth-1",
            "supportsSystemMessages": true,
            "supportsToolCalling": true,
            "supportsStreaming": true
          }
        },
        {
          "name": "server",
          "type": "server",
          "order": 4,
          "config": {
            "provider": "qwen",
            "model": "qwen3-coder-plus",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-2",
            "timeout": 60000,
            "authMethod": "bearer",
            "maxTokens": 262144
          }
        }
      ],
      "maxTokens": 262144
    },
    {
      "pipelineId": "pipeline_qwen_qwen-max_0",
      "routeId": "route_longContext_qwen_0_0",
      "provider": "qwen",
      "model": "qwen-max",
      "endpoint": "https://portal.qwen.ai/v1",
      "apiKey": "qwen-auth-1",
      "timeout": 60000,
      "maxRetries": 3,
      "layers": [
        {
          "name": "transformer",
          "type": "transformer",
          "order": 1,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-1"
          }
        },
        {
          "name": "protocol",
          "type": "protocol",
          "order": 2,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1"
          }
        },
        {
          "name": "server-compatibility",
          "type": "server-compatibility",
          "order": 3,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-1",
            "timeout": 60000,
            "use": "qwen",
            "maxTokens": 262144,
            "enhanceTool": true,
            "authFileName": "qwen-auth-1",
            "supportsSystemMessages": true,
            "supportsToolCalling": true,
            "supportsStreaming": true
          }
        },
        {
          "name": "server",
          "type": "server",
          "order": 4,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-1",
            "timeout": 60000,
            "authMethod": "bearer",
            "maxTokens": 262144
          }
        }
      ],
      "maxTokens": 262144
    },
    {
      "pipelineId": "pipeline_qwen_qwen-max_1",
      "routeId": "route_longContext_qwen_0_1",
      "provider": "qwen",
      "model": "qwen-max",
      "endpoint": "https://portal.qwen.ai/v1",
      "apiKey": "qwen-auth-2",
      "timeout": 60000,
      "maxRetries": 3,
      "layers": [
        {
          "name": "transformer",
          "type": "transformer",
          "order": 1,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-2"
          }
        },
        {
          "name": "protocol",
          "type": "protocol",
          "order": 2,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1"
          }
        },
        {
          "name": "server-compatibility",
          "type": "server-compatibility",
          "order": 3,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-2",
            "timeout": 60000,
            "use": "qwen",
            "maxTokens": 262144,
            "enhanceTool": true,
            "authFileName": "qwen-auth-1",
            "supportsSystemMessages": true,
            "supportsToolCalling": true,
            "supportsStreaming": true
          }
        },
        {
          "name": "server",
          "type": "server",
          "order": 4,
          "config": {
            "provider": "qwen",
            "model": "qwen-max",
            "endpoint": "https://portal.qwen.ai/v1",
            "apiKey": "qwen-auth-2",
            "timeout": 60000,
            "authMethod": "bearer",
            "maxTokens": 262144
          }
        }
      ],
      "maxTokens": 262144
    }
  ],
  "stats": {
    "routesCount": 8,
    "pipelinesCount": 4,
    "processingTimeMs": 2
  }
}