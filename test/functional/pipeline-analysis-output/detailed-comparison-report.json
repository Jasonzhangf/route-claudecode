{
  "timestamp": "2025-08-04T05:46:35.217Z",
  "version": "comparison-report-v1.0",
  "summary": {
    "totalTestCases": 5,
    "successfulComparisons": 5,
    "failedComparisons": 0,
    "identicalOutputs": 0,
    "differingOutputs": 5
  },
  "detailedComparisons": [
    {
      "testCaseId": "simple-text-message",
      "testCaseName": "简单文本消息",
      "comparisonSuccess": true,
      "identical": false,
      "differences": {
        "missingInCurrent": [],
        "missingInDemo2": [],
        "typeChanges": [],
        "valueDifferences": [
          {
            "path": "conversationState.conversationId",
            "demo2Value": "c4cec4cc-0430-4411-bcba-41756337fed7",
            "currentValue": "0b9d4c35-2360-4002-9530-3dc3865a21e0"
          },
          {
            "path": "conversationState.history",
            "demo2Value": null,
            "currentValue": []
          }
        ]
      },
      "payloadAnalysis": {
        "demo2PayloadSize": 366,
        "currentPayloadSize": 364,
        "sizeDifference": -2,
        "demo2PayloadSizeKB": 0.36,
        "currentPayloadSizeKB": 0.36
      },
      "fieldByFieldComparison": {
        "conversationState.chatTriggerType": {
          "demo2Value": "MANUAL",
          "currentValue": "MANUAL",
          "identical": true
        },
        "conversationState.conversationId": {
          "demo2Value": "c4cec4cc-0430-4411-bcba-41756337fed7",
          "currentValue": "0b9d4c35-2360-4002-9530-3dc3865a21e0",
          "identical": false
        },
        "conversationState.currentMessage.userInputMessage.content": {
          "demo2Value": "Hello, how are you?",
          "currentValue": "Hello, how are you?",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.modelId": {
          "demo2Value": "CLAUDE_SONNET_4_20250514_V1_0",
          "currentValue": "CLAUDE_SONNET_4_20250514_V1_0",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.origin": {
          "demo2Value": "AI_EDITOR",
          "currentValue": "AI_EDITOR",
          "identical": true
        },
        "conversationState.history": {
          "demo2Value": null,
          "currentValue": [],
          "identical": false
        },
        "profileArn": {
          "demo2Value": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "currentValue": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "identical": true
        }
      }
    },
    {
      "testCaseId": "multi-turn-conversation",
      "testCaseName": "多轮对话",
      "comparisonSuccess": true,
      "identical": false,
      "differences": {
        "missingInCurrent": [],
        "missingInDemo2": [],
        "typeChanges": [],
        "valueDifferences": [
          {
            "path": "conversationState.conversationId",
            "demo2Value": "c3d35802-625c-42b9-b087-86659de5d750",
            "currentValue": "95add2af-39a0-421c-bdb3-bfcc3150bcda"
          }
        ]
      },
      "payloadAnalysis": {
        "demo2PayloadSize": 579,
        "currentPayloadSize": 579,
        "sizeDifference": 0,
        "demo2PayloadSizeKB": 0.57,
        "currentPayloadSizeKB": 0.57
      },
      "fieldByFieldComparison": {
        "conversationState.chatTriggerType": {
          "demo2Value": "MANUAL",
          "currentValue": "MANUAL",
          "identical": true
        },
        "conversationState.conversationId": {
          "demo2Value": "c3d35802-625c-42b9-b087-86659de5d750",
          "currentValue": "95add2af-39a0-421c-bdb3-bfcc3150bcda",
          "identical": false
        },
        "conversationState.currentMessage.userInputMessage.content": {
          "demo2Value": "What about Italy?",
          "currentValue": "What about Italy?",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.modelId": {
          "demo2Value": "CLAUDE_SONNET_4_20250514_V1_0",
          "currentValue": "CLAUDE_SONNET_4_20250514_V1_0",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.origin": {
          "demo2Value": "AI_EDITOR",
          "currentValue": "AI_EDITOR",
          "identical": true
        },
        "conversationState.history": {
          "demo2Value": [
            {
              "userInputMessage": {
                "content": "What is the capital of France?",
                "modelId": "CLAUDE_SONNET_4_20250514_V1_0",
                "origin": "AI_EDITOR"
              }
            },
            {
              "assistantResponseMessage": {
                "content": "The capital of France is Paris.",
                "toolUses": []
              }
            }
          ],
          "currentValue": [
            {
              "userInputMessage": {
                "content": "What is the capital of France?",
                "modelId": "CLAUDE_SONNET_4_20250514_V1_0",
                "origin": "AI_EDITOR"
              }
            },
            {
              "assistantResponseMessage": {
                "content": "The capital of France is Paris.",
                "toolUses": []
              }
            }
          ],
          "identical": true
        },
        "profileArn": {
          "demo2Value": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "currentValue": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "identical": true
        }
      }
    },
    {
      "testCaseId": "system-message-conversation",
      "testCaseName": "带系统消息的对话",
      "comparisonSuccess": true,
      "identical": false,
      "differences": {
        "missingInCurrent": [],
        "missingInDemo2": [],
        "typeChanges": [],
        "valueDifferences": [
          {
            "path": "conversationState.conversationId",
            "demo2Value": "f8b9e700-0fc2-4799-ab30-7c76b6afb32f",
            "currentValue": "01c3537e-2f15-4108-a674-e3493bf31253"
          }
        ]
      },
      "payloadAnalysis": {
        "demo2PayloadSize": 618,
        "currentPayloadSize": 618,
        "sizeDifference": 0,
        "demo2PayloadSizeKB": 0.6,
        "currentPayloadSizeKB": 0.6
      },
      "fieldByFieldComparison": {
        "conversationState.chatTriggerType": {
          "demo2Value": "MANUAL",
          "currentValue": "MANUAL",
          "identical": true
        },
        "conversationState.conversationId": {
          "demo2Value": "f8b9e700-0fc2-4799-ab30-7c76b6afb32f",
          "currentValue": "01c3537e-2f15-4108-a674-e3493bf31253",
          "identical": false
        },
        "conversationState.currentMessage.userInputMessage.content": {
          "demo2Value": "Tell me about European capitals.",
          "currentValue": "Tell me about European capitals.",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.modelId": {
          "demo2Value": "CLAUDE_SONNET_4_20250514_V1_0",
          "currentValue": "CLAUDE_SONNET_4_20250514_V1_0",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.origin": {
          "demo2Value": "AI_EDITOR",
          "currentValue": "AI_EDITOR",
          "identical": true
        },
        "conversationState.history": {
          "demo2Value": [
            {
              "userInputMessage": {
                "content": "You are a helpful assistant specialized in geography.",
                "modelId": "CLAUDE_SONNET_4_20250514_V1_0",
                "origin": "AI_EDITOR"
              }
            },
            {
              "assistantResponseMessage": {
                "content": "I will follow these instructions",
                "toolUses": []
              }
            }
          ],
          "currentValue": [
            {
              "userInputMessage": {
                "content": "You are a helpful assistant specialized in geography.",
                "modelId": "CLAUDE_SONNET_4_20250514_V1_0",
                "origin": "AI_EDITOR"
              }
            },
            {
              "assistantResponseMessage": {
                "content": "I will follow these instructions",
                "toolUses": []
              }
            }
          ],
          "identical": true
        },
        "profileArn": {
          "demo2Value": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "currentValue": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "identical": true
        }
      }
    },
    {
      "testCaseId": "tool-calling-scenario",
      "testCaseName": "工具调用场景",
      "comparisonSuccess": true,
      "identical": false,
      "differences": {
        "missingInCurrent": [],
        "missingInDemo2": [],
        "typeChanges": [],
        "valueDifferences": [
          {
            "path": "conversationState.conversationId",
            "demo2Value": "11778678-cc4d-4834-8bdb-c144eb543242",
            "currentValue": "663e5581-5654-4479-affc-bd59b0ee6f9c"
          },
          {
            "path": "conversationState.history",
            "demo2Value": null,
            "currentValue": []
          }
        ]
      },
      "payloadAnalysis": {
        "demo2PayloadSize": 670,
        "currentPayloadSize": 668,
        "sizeDifference": -2,
        "demo2PayloadSizeKB": 0.65,
        "currentPayloadSizeKB": 0.65
      },
      "fieldByFieldComparison": {
        "conversationState.chatTriggerType": {
          "demo2Value": "MANUAL",
          "currentValue": "MANUAL",
          "identical": true
        },
        "conversationState.conversationId": {
          "demo2Value": "11778678-cc4d-4834-8bdb-c144eb543242",
          "currentValue": "663e5581-5654-4479-affc-bd59b0ee6f9c",
          "identical": false
        },
        "conversationState.currentMessage.userInputMessage.content": {
          "demo2Value": "What is the weather like in New York?",
          "currentValue": "What is the weather like in New York?",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.modelId": {
          "demo2Value": "CLAUDE_SONNET_4_20250514_V1_0",
          "currentValue": "CLAUDE_SONNET_4_20250514_V1_0",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.origin": {
          "demo2Value": "AI_EDITOR",
          "currentValue": "AI_EDITOR",
          "identical": true
        },
        "conversationState.history": {
          "demo2Value": null,
          "currentValue": [],
          "identical": false
        },
        "profileArn": {
          "demo2Value": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "currentValue": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "identical": true
        }
      }
    },
    {
      "testCaseId": "complex-tool-with-long-description",
      "testCaseName": "长描述工具（测试截断）",
      "comparisonSuccess": true,
      "identical": false,
      "differences": {
        "missingInCurrent": [],
        "missingInDemo2": [],
        "typeChanges": [],
        "valueDifferences": [
          {
            "path": "conversationState.conversationId",
            "demo2Value": "b33b27d2-b1da-48b3-9bed-07c3cc6a5184",
            "currentValue": "3715556c-2169-4c52-af55-d7e2a85ddb80"
          },
          {
            "path": "conversationState.currentMessage.userInputMessage.userInputMessageContext.tools.0.toolSpecification.description",
            "demo2Value": "This is a very comprehensive analysis tool that can perform multiple types of data analysis including statistical analysis, trend analysis, correlation analysis, regression analysis, time series analysis, and many other advanced analytical operations. It supports various data formats and can handle large datasets efficiently. The tool also provides visualization capabilities and can generate detailed reports with insights and recommendations based on the analysis results. It is designed to be user-friendly while maintaining high performance and accuracy in all analytical operations.",
            "currentValue": "This is a very comprehensive analysis tool that can perform multiple types of data analysis including statistical analysis, trend analysis, correlation analysis, regression analysis, time series analysis, and many other advanced analytical operations. It supports various data formats and can handle large datasets efficiently. The tool also provides visualization capabilities and can generate detailed reports with insights and recommendations based on the analysis results. It is designed to be us..."
          },
          {
            "path": "conversationState.history",
            "demo2Value": null,
            "currentValue": []
          }
        ]
      },
      "payloadAnalysis": {
        "demo2PayloadSize": 1283,
        "currentPayloadSize": 1195,
        "sizeDifference": -88,
        "demo2PayloadSizeKB": 1.25,
        "currentPayloadSizeKB": 1.17
      },
      "fieldByFieldComparison": {
        "conversationState.chatTriggerType": {
          "demo2Value": "MANUAL",
          "currentValue": "MANUAL",
          "identical": true
        },
        "conversationState.conversationId": {
          "demo2Value": "b33b27d2-b1da-48b3-9bed-07c3cc6a5184",
          "currentValue": "3715556c-2169-4c52-af55-d7e2a85ddb80",
          "identical": false
        },
        "conversationState.currentMessage.userInputMessage.content": {
          "demo2Value": "Please analyze this data for trends.",
          "currentValue": "Please analyze this data for trends.",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.modelId": {
          "demo2Value": "CLAUDE_SONNET_4_20250514_V1_0",
          "currentValue": "CLAUDE_SONNET_4_20250514_V1_0",
          "identical": true
        },
        "conversationState.currentMessage.userInputMessage.origin": {
          "demo2Value": "AI_EDITOR",
          "currentValue": "AI_EDITOR",
          "identical": true
        },
        "conversationState.history": {
          "demo2Value": null,
          "currentValue": [],
          "identical": false
        },
        "profileArn": {
          "demo2Value": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "currentValue": "arn:aws:codewhisperer:us-east-1:699475941385:profile/EHGA3GRVQMUK",
          "identical": true
        }
      }
    }
  ]
}