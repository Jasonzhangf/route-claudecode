{
  "timestamp": "2025-08-06T23:10:44.744Z",
  "analysis": {
    "originalSchema": {
      "type": "object",
      "properties": {
        "city": {
          "type": "string",
          "description": "城市名称"
        }
      },
      "required": [
        "city"
      ]
    },
    "cleanedSchema": {
      "type": "object",
      "properties": {
        "city": {
          "type": "string",
          "description": "城市名称"
        }
      },
      "required": [
        "city"
      ]
    },
    "convertedTool": {
      "functionDeclarations": [
        {
          "name": "get_weather",
          "description": "获取指定城市的天气信息",
          "parameters": {
            "type": "object",
            "properties": {
              "city": {
                "type": "string",
                "description": "城市名称"
              }
            },
            "required": [
              "city"
            ]
          }
        }
      ]
    },
    "issues": [
      "Non-ASCII characters in description (Chinese)"
    ]
  },
  "testVariations": [
    {
      "variation": "baseline-exact-replica",
      "success": true,
      "finishReason": "STOP",
      "hasContent": true,
      "requestPayload": {
        "contents": [
          {
            "role": "user",
            "parts": [
              {
                "text": "What is the weather in Tokyo?"
              }
            ]
          }
        ],
        "tools": [
          {
            "functionDeclarations": [
              {
                "name": "get_weather",
                "description": "Get weather information",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "city": {
                      "type": "string",
                      "description": "城市名称"
                    }
                  },
                  "required": [
                    "city"
                  ]
                }
              }
            ]
          }
        ],
        "toolConfig": {
          "functionCallingConfig": {
            "mode": "AUTO"
          }
        }
      }
    },
    {
      "variation": "minimal-schema",
      "success": true,
      "finishReason": "STOP",
      "hasContent": true,
      "requestPayload": {
        "contents": [
          {
            "role": "user",
            "parts": [
              {
                "text": "What is the weather in Tokyo?"
              }
            ]
          }
        ],
        "tools": [
          {
            "functionDeclarations": [
              {
                "name": "get_weather",
                "description": "Get weather information",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "city": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "city"
                  ]
                }
              }
            ]
          }
        ],
        "toolConfig": {
          "functionCallingConfig": {
            "mode": "AUTO"
          }
        }
      }
    },
    {
      "variation": "no-description",
      "success": true,
      "finishReason": "STOP",
      "hasContent": true,
      "requestPayload": {
        "contents": [
          {
            "role": "user",
            "parts": [
              {
                "text": "What is the weather in Tokyo?"
              }
            ]
          }
        ],
        "tools": [
          {
            "functionDeclarations": [
              {
                "name": "get_weather",
                "description": "Get weather information",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "city": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "city"
                  ]
                }
              }
            ]
          }
        ],
        "toolConfig": {
          "functionCallingConfig": {
            "mode": "AUTO"
          }
        }
      }
    },
    {
      "variation": "with-enum",
      "success": true,
      "finishReason": "STOP",
      "hasContent": true,
      "requestPayload": {
        "contents": [
          {
            "role": "user",
            "parts": [
              {
                "text": "What is the weather in Tokyo?"
              }
            ]
          }
        ],
        "tools": [
          {
            "functionDeclarations": [
              {
                "name": "get_weather",
                "description": "Get weather information",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "city": {
                      "type": "string",
                      "enum": [
                        "Tokyo",
                        "Beijing",
                        "London"
                      ]
                    }
                  },
                  "required": [
                    "city"
                  ]
                }
              }
            ]
          }
        ],
        "toolConfig": {
          "functionCallingConfig": {
            "mode": "AUTO"
          }
        }
      }
    }
  ],
  "summary": {
    "totalTests": 4,
    "successfulTests": 4,
    "failedTests": 0,
    "malformedCalls": 0,
    "unexpectedCalls": 0
  }
}