# Provider-Protocol Log Data Extraction

## Overview

This directory contains provider-protocol classified data extracted from system logs by the Log Parser System (Task 10.1).

**Extraction Date:** 2025-08-11T06:12:11.456Z
**System Version:** v3.0-production  
**Source Logs:** Port 3456 and system logs from last 1 days

## Directory Structure

```
provider-protocols/
├── anthropic/           # Anthropic Claude API data
├── openai/             # OpenAI API data  
├── gemini/             # Google Gemini API data
├── codewhisperer/      # AWS CodeWhisperer data
├── unknown/            # Unclassified provider data
├── metadata/           # Extraction metadata
├── reports/            # Analysis reports
└── README.md          # This documentation
```

## Data Format

All extracted data is stored in standardized JSON format with the following structure:

```json
{
  "type": "structured|unstructured",
  "providerProtocol": "anthropic|openai|gemini|codewhisperer|unknown",
  "timestamp": "ISO 8601 timestamp",
  "data": { /* extracted log data */ },
  "metadata": {
    "lineNumber": "number",
    "fileName": "source log file",
    "extractedAt": "extraction timestamp",
    "dataSize": "data size in bytes"
  }
}
```

## File Naming Convention

- `{log-name}-{timestamp}-requests.json` - Request data
- `{log-name}-{timestamp}-responses.json` - Response data  
- `{log-name}-{timestamp}-errors.json` - Error data
- `{log-name}-{timestamp}-performance.json` - Performance metrics

## Provider-Protocol Classification

Data is automatically classified based on:

- **Anthropic**: API patterns, Claude model names, anthropic.com endpoints
- **OpenAI**: GPT model names, OpenAI API patterns, chat/completions endpoints
- **Gemini**: Google API patterns, Gemini model names, googleapis.com endpoints  
- **CodeWhisperer**: AWS patterns, CodeWhisperer endpoints, Amazon model names
- **Unknown**: Port 3456 traffic that couldn't be classified

## Usage

### Analyzing Extracted Data

```javascript
// Load provider-specific data
const anthropicRequests = require('./anthropic/log-requests.json');
const openaiResponses = require('./openai/log-responses.json');

// Access extraction metadata
const metadata = require('./metadata/extraction-metadata.json');
console.log('Total entries extracted:', metadata.extractionInfo.totalEntries);
```

### Integration with Timeline Visualizer

This data can be used with the API Timeline Visualization system (Task 10.2):

```bash
# Generate timeline visualization from extracted data
node ../tools/visualization/api-timeline.js --source=provider-protocols --provider=anthropic
```

## Metadata Information

Complete extraction metadata including file processing statistics, provider-protocol breakdowns, and data categorization is available in:

- `metadata/extraction-metadata.json` - Comprehensive extraction statistics
- `reports/` - Generated analysis reports

## Data Quality

- All timestamps are normalized to ISO 8601 format
- Malformed JSON entries are handled gracefully  
- Unknown provider-protocols are preserved for manual review
- Source file and line number tracking for data traceability

---

Generated by Log Parser System v3.0-production
Part of Claude Code Router Tools Ecosystem (Task 10.1)
